function Polynomial(t,c){this.canvas=t,this.cf=c,this.ss=["","","²","³","⁴","⁵","⁶","⁷","⁸","⁹"],this.equation=pequation,this.cufac=[0,0,0],this.clear=clear_tanvas,this.print=textleft,this.sol=calcsol,this.random_sol=random_sol,this.random_concavity=random_concavity,this.rangerec=rangerec,this.random_cubic=random_cubic,this.expand_cubic=expand_cubic,this.differentiate=diffit}function diffit(){var t,c,i=[0,0];for(t=this.cf.length,c=1;c<t;c++)i[c-1]=c*this.cf[c];return i}function random_cubic(t,c){var i,s,a;for(this.cufac[0]=RandomInt(t,c),this.cufac[1]=RandomInt(t,c),this.cufac[2]=RandomInt(t,c);this.cufac[1]==this.cufac[0];)this.cufac[1]=RandomInt(t,c);for(;this.cufac[2]==this.cufac[1]||this.cufac[2]==this.cufac[0];)this.cufac[2]=RandomInt(t,c);return 0==this.cufac[0]&&(i="x"),0==this.cufac[1]&&(s="x"),0==this.cufac[2]&&(a="x"),this.cufac[0]<0&&(i="(x"+this.cufac[0]+")"),this.cufac[1]<0&&(s="(x"+this.cufac[1]+")"),this.cufac[2]<0&&(a="(x"+this.cufac[2]+")"),this.cufac[0]>0&&(i="(x+"+this.cufac[0]+")"),this.cufac[1]>0&&(s="(x+"+this.cufac[1]+")"),this.cufac[2]>0&&(a="(x+"+this.cufac[2]+")"),i+s+a}function expand_cubic(){var t,c,i;this.cf=[0,0,0,0],t=this.cufac[0],c=this.cufac[1],i=this.cufac[2],this.cf[0]=t*c*i,this.cf[1]=t*c+t*i+c*i,this.cf[2]=t+c+i,this.cf[3]=1}function rangerec(){var t,c,i,s;return t=-this.cf[1]/(2*this.cf[2]),c=this.cf[0]+t*this.cf[1]+t*t*this.cf[2],i=Math.abs(c),s=Math.abs(this.cf[0]),i>=s?i:s}function random_sol(t,c){for(var i,s,a,h,f=0;0==f;)i=RandomInt(t,c),s=RandomInt(t,c),f=i+s;return this.cf[0]=i*s,this.cf[1]=i+s,this.cf[2]=1,i>0&&(a="(x+"+i+")"),0==i&&(a="x"),i<0&&(h=Math.abs(i),a="(x-"+h+")"),s>0&&(a=a+"(x+"+s+")"),0==s&&(a+="x"),s<0&&(h=Math.abs(s),a=a+"(x-"+h+")"),a}function random_concavity(){var t,c;return t=RandomInt(0,1),0==t&&(this.cf[0]=-this.cf[0],this.cf[1]=-this.cf[1],this.cf[2]=-this.cf[2]),c=0==t?"down":"up",c}function calcsol(){var t,c,i,s,a,h=[0,0];return c=this.cf[2],i=this.cf[1],s=this.cf[0],t=i*i-4*c*s,a=Math.sqrt(t),h[0]=(-i+a)/(2*c),h[1]=(-i-a)/(2*c),h[0]=Math.round(100*h[0])/100,h[1]=Math.round(100*h[1])/100,h[2]=Math.round(1e5*t)/1e5,h}function pequation(t){var c,i,s;for(s=this.cf.length-1,c="",i=s;i>=1;i--)0!=this.cf[i]&&(c=1==this.cf[i]?c+t+this.ss[i]:c+this.cf[i]+t+this.ss[i]),this.cf[i-1]>0&&(c+="+");return 0!=this.cf[0]&&(c+=this.cf[0]),c}function RandomInt(t,c){return Math.floor(Math.random()*(c-t+1)+t)}