function writeMessage(e){text.text(e),layer.draw()}function eachFrame(){var e;let t=arc.angle();e=target<t?arc.angle()-1:arc.angle()+1,arc.angle(e),arcs.angle(e),pcoord(),e==target&&anim.stop()}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function moveangle(){target=getRandomInt(10,350),target=-target,anim.start()}function pcoord(){var e,t,a,n,o,l,i,s,r,c;e=250+180*Math.cos(-arc.angle()/180*Math.PI),t=250-180*Math.sin(-arc.angle()/180*Math.PI),ptext.x(e),ptext.y(t),e=250+55*Math.cos(.5*-arc.angle()/180*Math.PI),t=250-55*Math.sin(.5*-arc.angle()/180*Math.PI),angtext.x(e),angtext.y(t),angtext.text(-arc.angle()),a=Math.cos(-arc.angle()/180*Math.PI),n=Math.sin(-arc.angle()/180*Math.PI),r=Math.round(1e4*n)/1e4,c=Math.round(1e4*a)/1e4,a=Math.round(1e4*a)/1e4,n=Math.round(1e4*n)/1e4,o="P("+a+","+n+")",pcorner.text(o),s=-arc.angle(),i="sin("+s+")="+r,sintext.text(i),l="cos("+s+")="+c,costext.text(l)}function newexample(){var e;kv=getRandomInt(0,k.length-1),slekt=getRandomInt(0,1),e=soc[slekt]+theta+"="+k[kv],extext.text(e),ysol.hide(),ysol.points([50,250,450,250]),xsol.hide(),the1.hide(),the1a.hide(),the2.hide(),the2a.hide(),the1.angle(0),the1a.angle(0),the2.angle(0),the2a.angle(0),linelabel.hide(),solution1.hide(),solution2.hide(),layerq.draw();var t="";$("#step0").text(t),$("#step1").text(t),$("#step1a").text(t),$("#step2").text(t),$("#step3").text(t)}function answer(){0==slekt?sine_working():cos_working()}function sine_working(){ysol.show(),horizontal=250-parseInt(150*k[kv]),angel=180*Math.asin(k[kv])/Math.PI,angel=Math.round(10*angel)/10,angelc=angel,angelb=180-angel,angel<0&&(angel=360+angel),console.log(angel),setTimeout(sinsol1,3e3),setTimeout(sinsol2,8e3),ysol.to({duration:1,points:[50,horizontal,450,horizontal]}),linelabel.text("y="+k[kv]),linelabel.x(470),linelabel.y(horizontal-5),linelabel.show();var e="Horizontal line y="+k[kv]+" intesects the unit circle  for points with y coordinate "+k[kv];$("#step0").text(e)}function cos_working(){xsol.show(),vertical=250+parseInt(150*k[kv]),xsol.to({duration:1,points:[vertical,50,vertical,450]}),linelabel.text("x="+k[kv]),linelabel.x(vertical+5),linelabel.y(50),linelabel.show();var e="Vertical line x="+k[kv]+" intesects the unit circle  for points with x coordinate "+k[kv];$("#step0").text(e),angel=180*Math.acos(k[kv])/Math.PI,angel=Math.round(10*angel)/10,angelc=angel,angelb=360-angel,angel<0&&(angel=360+angel),setTimeout(cossol1,3e3),setTimeout(cossol2,8e3)}function cossol1(){var e;the1.show(),the1a.show(),the1.to({duration:1,angle:-angel}),the1a.to({duration:1,angle:-angel}),e=angel.toFixed(1),solution1.text(e),solution1.show();var t="using a calculator "+theta+"=arccos("+k[kv]+")="+angelc;$("#step1").text(t)}function cossol2(){var e;the2.show(),the2a.show(),the2.to({duration:1,angle:-angelb}),the2a.to({duration:1,angle:-angelb}),atext=angelb.toFixed(1),solution2.text(atext),solution2.show(),e="reflecting across the x-axis "+theta+"="+angelb+" (using 360-"+angelc+")",$("#step2").text(e),e="final answer "+theta+"="+angel+" and "+theta+"="+angelb,$("#step3").text(e)}function sinsol1(){var e;the1.show(),the1a.show(),the1.to({duration:1,angle:-angel}),the1a.to({duration:1,angle:-angel}),e=angel.toFixed(1),solution1.text(e),solution1.show();var t="using a calculator "+theta+"=arcsin("+k[kv]+")="+angelc;$("#step1").text(t),angelc<0&&(t="This is equivalent to "+theta+"="+angel+" (using 360"+angelc+")",console.log(t),$("#step1a").text(t))}function sinsol2(){var e;the2.show(),the2a.show(),the2.to({duration:1,angle:-angelb}),the2a.to({duration:1,angle:-angelb}),atext=angelb.toFixed(1),solution2.text(atext),solution2.show(),e=angelc>0?"reflecting across the y-axis "+theta+"="+angelb+" (using 180-"+angelc+")":"reflecting across the y-axis "+theta+"="+angelb+" (using 180+"+Math.abs(angelc)+")",$("#step2").text(e),e="final answer "+theta+"="+angel+" and "+theta+"="+angelb,$("#step3").text(e)}function setup(){}var theta=45,target=-20;let stage=new Konva.Stage({height:500,width:550,container:"konva-holder"}),layer=new Konva.Layer;var text=new Konva.Text({x:10,y:10,fontFamily:"Calibri",fontSize:24,text:"",fill:"purple"});let rect=new Konva.Rect({x:100,y:100,fill:"blue",width:200,height:100});var circle=new Konva.Circle({x:250,y:250,radius:150,fill:"",stroke:"blue",strokeWidth:4}),xaxis=new Konva.Line({points:[50,250,450,250],stroke:"black",strokeWidth:5,lineCap:"round",lineJoin:"round"}),yaxis=new Konva.Line({points:[250,50,250,450],stroke:"black",strokeWidth:5,lineCap:"round",lineJoin:"round"}),arc=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:150,angle:-theta,fill:"MistyRose",stroke:"red",strokeWidth:4,clockwise:!0}),arcs=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:30,angle:-theta,fill:"MistyRose",stroke:"red",strokeWidth:4,clockwise:!0});xaxis.on("mouseover",function(){writeMessage("x axis")}),xaxis.on("mouseout",function(){writeMessage("")}),yaxis.on("mouseover",function(){writeMessage("y axis")}),yaxis.on("mouseout",function(){writeMessage("")}),circle.on("mouseover",function(){writeMessage("unit circle r=1")}),circle.on("mouseout",function(){writeMessage("")});var ptext=new Konva.Text({x:10,y:105,text:"P(x,y)",fontSize:25,fontFamily:"Calibri",fill:"black"});ptext.on("mouseover",function(){writeMessage("Point on the unit circle")}),ptext.on("mouseout",function(){writeMessage("")});var angtext=new Konva.Text({x:10,y:15,text:45,fontSize:25,fontFamily:"Calibri",fill:"black"}),pcorner=new Konva.Text({x:10,y:45,text:45,fontSize:20,fontFamily:"Calibri",fill:"black"});pcorner.on("mouseover",function(){writeMessage("rounded to 4 decimal places")}),ptext.on("mouseout",function(){writeMessage("")});var costext=new Konva.Text({x:350,y:15,text:"cos",fontSize:20,fontFamily:"Calibri",fill:"black"});costext.on("mouseover",function(){writeMessage("rounded to 4 decimal places")}),costext.on("mouseout",function(){writeMessage("")});var sintext=new Konva.Text({x:350,y:50,text:"sin",fontSize:20,fontFamily:"Calibri",fill:"black"});sintext.on("mouseover",function(){writeMessage("rounded to 4 decimal places")}),sintext.on("mouseout",function(){writeMessage("")}),layer.add(arc),layer.add(arcs),layer.add(circle),layer.add(xaxis),layer.add(yaxis),stage.add(layer),layer.add(text),layer.add(ptext),layer.add(angtext),layer.add(pcorner),layer.add(costext),layer.add(sintext),circle.cache(),xaxis.cache(),yaxis.cache(),layer.draw(),pcoord();let anim=new Konva.Animation(eachFrame,layer);moveangle();var moving=setInterval(moveangle,8e3),k=[-.9,-.8,-.7,-.6,-.5,-.4,-.3,-.2,-.1,.1,.2,.3,.4,.5,.6,.7,.8,.9],kv=3,soc=["sin","cos"],slekt=0;let stageq=new Konva.Stage({height:500,width:550,container:"question"}),layerq=new Konva.Layer;stageq.add(layerq);var angel,angelb,angelc,circleq=circle.clone(),xaxisq=xaxis.clone(),yaxisq=yaxis.clone(),xsol=new Konva.Line({points:[250,50,250,450],stroke:"red",strokeWidth:3,lineCap:"round",lineJoin:"round"}),ysol=new Konva.Line({points:[50,250,450,250],stroke:"red",strokeWidth:3,lineCap:"round",lineJoin:"round"}),extext=new Konva.Text({x:10,y:15,text:"nothing",fontSize:25,fontFamily:"Calibri",fill:"blue"}),the1=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:150,angle:0,fill:"",stroke:"Indigo",strokeWidth:4,clockwise:!0}),the1a=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:30,angle:0,fill:"",stroke:"Indigo",strokeWidth:4,clockwise:!0}),the2=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:150,angle:0,fill:"",stroke:"green",strokeWidth:4,clockwise:!0}),the2a=new Konva.Arc({x:250,y:250,innerRadius:0,outerRadius:45,angle:0,fill:"",stroke:"green",strokeWidth:4,clockwise:!0});linelabel=extext.clone(),linelabel.fill("red"),linelabel.y(80),solution1=extext.clone(),solution1.fill("Indigo"),solution1.x(150),solution2=extext.clone(),solution2.fill("green"),solution2.x(280),layerq.add(linelabel),layerq.add(solution1),layerq.add(solution2),layerq.add(the1),layerq.add(the1a),layerq.add(the2),layerq.add(the2a),layerq.add(circleq),layerq.add(xaxisq),layerq.add(yaxisq),layerq.add(extext),layerq.add(ysol),layerq.add(xsol),circleq.cache(),xaxisq.cache(),yaxisq.cache(),layerq.draw(),newexample();var horizontal,sol1,sol2,vertical;theta="Î¸";