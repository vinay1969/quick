function Ekvation(t){this.canvas=t,this.cos=print_cos,this.limit=print_limit,this.frac_center=fracc,this.frac_left=fracl,this.frac_right=fracr,this.text_left=textleft,this.text_right=textright,this.text_center=textcenter,this.sum_left=sumleft,this.sum_right=sumright,this.sum_center=sumcenter,this.int_left=intleft}function intleft(t,e,n,l,i,r,s,a){var x,d,f,o,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return i+" "+r+"px "+s,p.font=i+" "+r+"px "+s,p.textAlign="left",p.fillStyle=a,p.textBaseline="middle",p.fillText(integral,n,l),f=parseInt(.4*r),p.font=i+" "+f+"px "+s,o=parseInt(.5*(r+f)+0*r),p.fillText(t,n,l-o),o=parseInt(.5*(r+f)+.07*r),p.fillText(e,n,l+o),u[0]=parseInt(l),x=p.measureText(integral),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumleft(t,e,n,l,i,r,s,a){var x,d,f,o,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return i+" "+r+"px "+s,p.font=i+" "+r+"px "+s,p.textAlign="left",p.fillStyle=a,p.textBaseline="middle",p.fillText(sum,n,l),f=parseInt(.4*r),p.font=i+" "+f+"px "+s,o=parseInt(.5*(r+f)+0*r),p.fillText(t,n,l-o),o=parseInt(.5*(r+f)+.07*r),p.fillText(e,n,l+o),u[0]=parseInt(l),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumcenter(t,e,n,l,i,r,s,a){var x,d,f,o,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return i+" "+r+"px "+s,p.font=i+" "+r+"px "+s,p.textAlign="center",p.fillStyle=a,p.textBaseline="middle",p.fillText(sum,n,l),f=parseInt(.4*r),p.font=i+" "+f+"px "+s,o=parseInt(.5*(r+f)+0*r),p.fillText(t,n,l-o),o=parseInt(.5*(r+f)+.07*r),p.fillText(e,n,l+o),u[0]=parseInt(l),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumright(t,e,n,l,i,r,s,a){var x,d,f,o,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return i+" "+r+"px "+s,p.font=i+" "+r+"px "+s,p.textAlign="right",p.fillStyle=a,p.textBaseline="middle",p.fillText(sum,n,l),f=parseInt(.4*r),p.font=i+" "+f+"px "+s,o=parseInt(.5*(r+f)+0*r),p.fillText(t,n,l-o),o=parseInt(.5*(r+f)+.07*r),p.fillText(e,n,l+o),u[0]=parseInt(l),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function textcenter(t,e,n,l,i,r,s){var a,x,d=document.getElementById(this.canvas),f=d.getContext("2d"),o=[0,0,0];return l+" "+i+"px "+r,f.font=l+" "+i+"px "+r,f.textAlign="center",f.fillStyle=s,f.textBaseline="middle",f.fillText(t,e,n),o[0]=parseInt(n),a=f.measureText(t),x=a.width,o[1]=parseInt(e-x/2),o[2]=parseInt(e+x/2),o}function textright(t,e,n,l,i,r,s){var a,x,d=document.getElementById(this.canvas),f=d.getContext("2d"),o=[0,0,0];return l+" "+i+"px "+r,f.font=l+" "+i+"px "+r,f.textAlign="right",f.fillStyle=s,f.textBaseline="middle",f.fillText(t,e,n),o[0]=parseInt(n),a=f.measureText(t),x=a.width,o[1]=parseInt(e-x),o[2]=parseInt(e),o}function textleft(t,e,n,l,i,r,s){var a,x,d=document.getElementById(this.canvas),f=d.getContext("2d"),o=[0,0,0];return l+" "+i+"px "+r,f.font=l+" "+i+"px "+r,f.textAlign="left",f.fillStyle=s,f.textBaseline="middle",f.fillText(t,e,n),o[0]=parseInt(n),a=f.measureText(t),x=a.width,o[1]=parseInt(e),o[2]=parseInt(e+x),o}function fracr(t,e,n,l,i,r,s,a){var x,d,f,o,m,p,u,h,c,g,T,I=document.getElementById(this.canvas),y=I.getContext("2d"),v=[0,0,0];return i+" "+r+"px "+s,y.font=i+" "+r+"px "+s,y.textAlign="center",y.fillStyle=a,y.textBaseline="middle",x=y.measureText(t),d=y.measureText(e),f=x.width,o=d.width,m=1.05*largest(f,o),p=n-m/2,y.fillText(t,p,l),u=Math.round(r/10),u<2&&(u=2),h=l+r/2+2+u,c=h,g=n,T=n-m,y.beginPath(),y.moveTo(g,h),y.lineTo(T,c),y.lineWidth=u,y.strokeStyle=a,y.stroke(),yd=h+r/2+u+2,y.fillText(e,p,yd),v[0]=parseInt(h),v[1]=parseInt(T),v[2]=parseInt(g),v}function fracl(t,e,n,l,i,r,s,a){var x,d,f,o,m,p,u,h,c,g,T,I=document.getElementById(this.canvas),y=I.getContext("2d"),v=[0,0,0];return i+" "+r+"px "+s,y.font=i+" "+r+"px "+s,y.textAlign="center",y.fillStyle=a,y.textBaseline="middle",x=y.measureText(t),d=y.measureText(e),f=x.width,o=d.width,m=1.05*largest(f,o),p=n+m/2,y.fillText(t,p,l),u=Math.round(r/10),u<2&&(u=2),h=l+r/2+2+u,c=h,g=n,T=n+m,y.beginPath(),y.moveTo(g,h),y.lineTo(T,c),y.lineWidth=u,y.strokeStyle=a,y.stroke(),yd=h+r/2+u+2,y.fillText(e,p,yd),v[0]=parseInt(h),v[1]=parseInt(g),v[2]=parseInt(T),v}function fracc(t,e,n,l,i,r,s,a){var x,d,f,o,m,p,u,h,c,g,T=document.getElementById(this.canvas),I=T.getContext("2d"),y=[0,0,0];return i+" "+r+"px "+s,I.font=i+" "+r+"px "+s,I.textAlign="center",I.fillStyle=a,I.textBaseline="middle",I.fillText(t,n,l),x=I.measureText(t),d=I.measureText(e),f=x.width,o=d.width,m=Math.round(r/10),m<2&&(m=2),p=l+r/2+2+m,u=p,h=largest(f,o),c=n-1.05*h/2,g=n+1.05*h/2,I.beginPath(),I.moveTo(c,p),I.lineTo(g,u),I.lineWidth=m,I.strokeStyle=a,I.stroke(),yd=p+r/2+m+2,I.fillText(e,n,yd),y[0]=parseInt(p),y[1]=parseInt(c),y[2]=parseInt(g),y}function print_limit(t,e,n,l,i,r,s,a,x,d){var f,o,m,p,u,h,c,g,T,I,y,v,B,w,S,A=document.getElementById(this.canvas),_=A.getContext("2d");_.font=s+" "+a+"px "+x,_.textAlign="center",_.fillStyle=d,_.textBaseline="middle",_.fillText(n,i,r),f=_.measureText(n),o=_.measureText(l),m=f.width,p=o.width,u=Math.round(a/10),u<2&&(u=2),h=r+a/2+2+u,c=h,g=largest(m,p),T=i-1.05*g/2,I=i+1.05*g/2,_.beginPath(),_.moveTo(T,h),_.lineTo(I,c),_.lineWidth=u,_.strokeStyle=d,_.stroke(),y=h+a/2+u+2,_.fillText(l,i,y),v=t+"=lim",u=Math.round(a/5),B=T-u,_.textAlign="right",_.fillText(v,B,h),S=parseInt(Math.round(.66*a)),_.font=s+" "+S+"px "+x,u=Math.round(.7*a),w=h+u,_.fillText(e,B,w)}function print_cos(t,e,n,l,i,r,s,a,x){var d,f,o,m,p,u,h,c,g,T,I,y,v,B,w,S=document.getElementById(this.canvas),A=S.getContext("2d");A.font=r+" "+s+"px "+a,A.textAlign="center",A.fillStyle=x,d=A.measureText(e),f=A.measureText(n),o=d.width,m=f.width,A.fillText(e,l,i),temp=Math.round(s/10),temp<2&&(temp=2),u=i+temp+2,c=u,g=largest(o,m),p=l-1.05*g/2,h=l+1.05*g/2,A.beginPath(),A.moveTo(p,u),A.lineTo(h,c),A.lineWidth=temp,A.strokeStyle=x,A.stroke(),T=i+s+temp+2,A.fillText(n,l,T),v="cos"+t+"=",B=A.measureText(v),w=B.width,I=p-w-2,A.textAlign="left",y=u+.35*s,A.fillText(v,I,y)}function largest(t,e){var n;return n=e,t>e&&(n=t),n}var limit="→",sum="∑",integral="∫";