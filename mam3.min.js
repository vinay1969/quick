function setup(){new_cubic()}function new_cubic(){var e,c,i,r=[0,0],a=[0,0],n=[0,0],t=[0,0];xt=-5,cubic.canvas="layerww",cubic.clear(),cubic.canvas="layerw",cubic.clear(),wstep=0,cubic.clear(),screen.clear(),e=cubic.random_cubic(-4,4),cubic.expand_cubic(),r=cubic.differentiate(),dydx.cf=r,af=dydx.cf[2],bf=dydx.cf[1],cff=dydx.cf[0],a=dydx.sol(),t[0]=a[0],t[1]=a[1],t=t.sort(function(e,c){return c-e}),crange[1]=t[1],crange[2]=t[0],j=cubic.cufac[0],h=cubic.cufac[1],m=cubic.cufac[2],n[0]=Math.abs(cubicp(a[0])),n[1]=Math.abs(cubicp(a[1])),ymax=1.2*Math.max(n[0],n[1]),ymin=-ymax,screen.scale(-5,5,ymin,ymax),screent.scale(-5,5,ymin,ymax),screent.clear(),screen.generic(3,"red",cubicp,-5,5),screen.generic(3,"black",cubicp,crange[1],crange[2]),c="f(x)",screen.rawprint(c,20,40,"left","black","Normal 25px Ariel"),c="f(x)="+e,cubic.print(c,20,20,"Normal",25,"Ariel","black"),cubic.print("expanding and simplifying",20,50,"Normal",25,"Ariel","blue"),e=cubic.equation("x"),c="f(x)="+e,cubic.print(c,20,80,"Normal",25,"Ariel","black"),i=dydx.rangerec(),screen1.clear(),c="f'(x)",screen1.rawprint(c,20,40,"left","black","Normal 25px Ariel"),screen1.scale(-5,5,1.2*-i,1.2*i),screen1.generic(3,"green",fdiv,-5,5),screen1.generic(3,"purple",fdiv,crange[1],crange[2])}function tanimate(){var e,c;screent.clear(),screen1.clear_shapes(),1==tswitch&&(xt=-5),document.getElementById("anbut").disabled=!0,document.getElementById("newex").disabled=!0,mt=fdiv(xt),e=cubicp(xt),ct=e-mt*xt,c=cubicp(xt),c<=ymax&&c>=ymin&&(mt>=0?(screent.generic(3,"green",tline,-5,5),screen1.point(5,"green",xt,mt)):(screent.generic(3,"purple",tline,-5,5),screen1.point(5,"purple",xt,mt))),xt+=.04,xt<=5?(requestAnimFrame(tanimate),tswitch=0):(tswitch=1,document.getElementById("anbut").disabled=!1,document.getElementById("newex").disabled=!1)}function show_work(){var e,c,i,r,a,n=[0,0];cubic.canvas="layerw",0==wstep&&(cubic.print("differentiating term by term",20,110,"Normal",25,"Ariel","blue"),c=dydx.equation("x"),cubic.print("differentiating term by term",20,110,"Normal",25,"Ariel","blue"),e="f'(x)="+c,cubic.print(e,20,140,"Normal",25,"Ariel","black")),1==wstep&&(cubic.print("maxima/minima when f'(x)=0",20,170,"Normal",25,"Ariel","blue"),c=dydx.equation("x"),e="0="+c,cubic.print(e,20,200,"Normal",25,"Ariel","black")),2==wstep&&(cubic.print("solved using quadratic formula",20,230,"Normal",25,"Ariel","blue"),cubic.canvas="layerww",n=dydx.sol(),c="x="+n[0],cubic.print(c,10,30,"Normal",25,"Ariel","black"),cubic.print("and",90,30,"Normal",25,"Ariel","blue"),c="x="+n[1],cubic.print(c,140,30,"Normal",25,"Ariel","black"),cubic.print("which one is max/min?",230,30,"Normal",25,"Ariel","red")),3==wstep&&(cubic.canvas="layerww",cubic.print("sign diagram",150,60,"Normal",25,"Ariel","blue"),n=dydx.sol(),r=fdiv(n[1]-.1),r=Math.round(1e3*r)/1e3,c="f("+n[1]+"-0.1)="+r,cubic.print(c,10,90,"Normal",20,"Ariel","black"),c="f("+n[1]+")=0",cubic.print(c,170,90,"Normal",20,"Ariel","black"),r=fdiv(n[1]+.1),r=Math.round(1e3*r)/1e3,c="f("+n[1]+"+0.1)="+r,cubic.print(c,270,90,"Normal",20,"Ariel","black"),cubic.print("+                     0                -     maxima",50,120,"Normal",25,"Ariel","red"),r=fdiv(n[0]-.1),r=Math.round(1e3*r)/1e3,c="f("+n[0]+"-0.1)="+r,cubic.print(c,10,150,"Normal",20,"Ariel","black"),c="f("+n[0]+")=0",cubic.print(c,170,150,"Normal",20,"Ariel","black"),r=fdiv(n[0]+.1),r=Math.round(1e3*r)/1e3,c="f("+n[0]+"+0.1)="+r,cubic.print(c,270,150,"Normal",20,"Ariel","black"),cubic.print("-                     0                +     minima",50,180,"Normal",25,"Ariel","red")),4==wstep&&(cubic.canvas="layerww",n=dydx.sol(),i=Math.round(1e3*cubicp(n[1]))/1e3,c="f("+n[1]+")="+i,cubic.print(c,10,210,"Normal",20,"Ariel","black"),a=Math.round(1e3*cubicp(n[0]))/1e3,c="f("+n[0]+")="+a,cubic.print(c,170,210,"Normal",20,"Ariel","black"),c="maxima ("+n[1]+","+i+")",cubic.print(c,10,240,"Normal",20,"Ariel","black"),c="minima ("+n[0]+","+a+")",cubic.print(c,200,240,"Normal",20,"Ariel","black")),wstep+=1}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var screen=new Graphics("layer","layer1","dummy","dummy",500,250,500,250),ka=[0,0,0,1],cubic=new Polynomial("layerw",ka);ka=[0,0,0];var j,h,m,dydx=new Polynomial("layerw",ka);j=0,h=-2,m=-4;var af,bf,cff,ymin,ymax,cubicp=function(e){var c;return c=(e+j)*(e+h)*(e+m),c},indec=["red","black","red"],crange=[-5,4,2,5],fdiv=function(e){var c;return c=e*e*af+e*bf+cff,c},screen1=new Graphics("layerf","layerf1","dummyf","dummyf",500,250,500,250),mt=1,ct=1,xt=-5,tswitch=0,tline=function(e){var c;return c=mt*e+ct,c},screent=new Graphics("dummy","dummy","dummy","dummy",500,250,500,250),wstep=0;