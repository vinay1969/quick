function setup(){screen.scale(-5,5,-20,20),screen1.scale(-5,5,-20,20),screen1.clear(),screen.generic(3,"purple",cubic,-5,5),secant(),algebra(),screenx.scale(-3.5,3.5,-20,90),screenx1.scale(-3.5,3.5,-20,90),screenx1.clear(),screenx.generic(3,"purple",pow4,-3.5,3.5),secant1(),algebra1(),screeny.scale(-3.5,3.5,-90,90),screeny1.scale(-3.5,3.5,-90,90),screeny1.clear(),screeny.generic(3,"purple",pow5,-3.5,3.5),secant2(),algebra2(),screenr.scale(-5.5,5.5,-5.5,5.5),screenr1.scale(-5.5,5.5,-5.5,5.5),screenr1.clear(),screenr.generic(3,"purple",recip,-5.5,-.01),screenr.generic(3,"purple",recip,.01,5.5),secantr()}function algebrar(){var e,r,t,l,i;l="f"+prime+"(x)",i="h"+limit+"0",1==stepr&&(e="note f"+prime+"(x) is the gradient of the secant line in the limit",pr.text_left(e,10,30,"Normal",20,"Ariel","blue"),r="f(x+h)-f(x)",t="x+h-x",pr.limit(l,i,r,t,140,60,"Normal",20,"Ariel","black")),2==stepr&&(e="simplifying denominator and numerator in terms of x and h",pr.text_left(e,10,110,"Normal",20,"Ariel","blue"),t="h",r="1/(x+h)-1/x",pr.limit(l,i,r,t,130,140,"Normal",20,"Ariel","black")),3==stepr&&(e="multiply by x(x+h) numerator and denominator",pr.text_left(e,200,150,"Normal",15,"Ariel","blue"),r="(1/(h+x)-1/x)x(x+h)",t="hx(x+h)",pr.limit(l,i,r,t,240,190,"Normal",20,"Ariel","black"),e="note 1=",pr.text_left(e,340,190,"Normal",15,"Ariel","red"),pr.frac_left("x(x+h)","x(x+h)",388,180,"Normal",15,"Ariel","red")),4==stepr&&(e="expanding and simplifying the numerator",pr.text_left(e,10,240,"Normal",20,"Ariel","blue"),r="x-(x+h)",t="hx(x+h)",pr.limit(l,i,r,t,210,270,"Normal",20,"Ariel","black")),5==stepr&&(e="cancelling the x terms and then cancelling the h's",pr.text_left(e,10,320,"Normal",20,"Ariel","blue"),r="-h",t="hx(x+h)",pr.limit(l,i,r,t,120,350,"Normal",20,"Ariel","black"),r="-1",t="x(x+h)",pr.limit(l,i,r,t,320,350,"Normal",20,"Ariel","black")),6==stepr&&(e="taking the limit by setting h=0",pr.text_left(e,10,400,"Normal",20,"Ariel","blue"),e=l+"=",pr.text_left(e,10,430,"Normal",20,"Ariel","black"),e="Final Answer",pr.text_left(e,100,430,"Normal",20,"Ariel","red"),pr.frac_left("-1","x"+ptwo,60,420,"Normal",15,"Ariel","black")),stepr+=1}function resetr(){stepr=1,pr.clear(),algebrar()}function algebra2(){var e,r,t,l,i;l="f"+prime+"(x)",i="h"+limit+"0",1==step5&&(e="note f"+prime+"(x) is the gradient of the secant line in the limit",p5.text_left(e,10,30,"Normal",20,"Ariel","blue"),r="f(x+h)-f(x)",t="x+h-x",p5.limit(l,i,r,t,140,60,"Normal",20,"Ariel","black")),2==step5&&(e="simplifying denominator and numerator in terms of x and h",p5.text_left(e,10,110,"Normal",20,"Ariel","blue"),t="h",r="(x+h)"+pfive+"-x"+pfive,p5.limit(l,i,r,t,130,140,"Normal",20,"Ariel","black")),3==step5&&(e="expanding the bracket",p5.text_left(e,200,150,"Normal",20,"Ariel","blue"),r="x"+pfive+"+5x"+pfour+"h+10x"+pthree+"h"+ptwo+"+10x"+ptwo+"h"+pthree+"+5xh"+pfour+"+h"+pfive+"-x"+pfive,t="h",p5.limit(l,i,r,t,240,190,"Normal",20,"Ariel","black")),4==step5&&(e="cancelling the x"+pfive,p5.text_left(e,320,220,"Normal",20,"Ariel","blue"),r="5x"+pfour+"h+10x"+pthree+"h"+ptwo+"+10x"+ptwo+"h"+pthree+"+5xh"+pfour+"+h"+pfive,t="h",p5.limit(l,i,r,t,210,240,"Normal",20,"Ariel","black")),5==step5&&(e="dividing numerator terms by h",p5.text_left(e,10,290,"Normal",20,"Ariel","blue"),e=l+"=lim 5x"+pfour+"+10x"+pthree+"h+10x"+ptwo+"h"+ptwo+"+5xh"+pthree+"+h"+pfour,p5.text_left(e,10,320,"Normal",20,"Ariel","black"),e=i,p5.text_left(e,57,335,"Normal",12,"Ariel","black")),6==step5&&(e="taking the limit by setting h=0",p5.text_left(e,10,365,"Normal",20,"Ariel","blue"),e=l+"=5x"+pfour,p5.text_left(e,10,395,"Normal",20,"Ariel","black"),e="Final Answer",p5.text_left(e,100,395,"Normal",20,"Ariel","red")),step5+=1}function reset2(){step5=1,p5.clear(),algebra2()}function algebra1(){var e,r,t,l,i;l="f"+prime+"(x)",i="h"+limit+"0",1==step4&&(e="note f"+prime+"(x) is the gradient of the secant line in the limit",p4.text_left(e,10,30,"Normal",20,"Ariel","blue"),r="f(x+h)-f(x)",t="x+h-x",p4.limit(l,i,r,t,140,60,"Normal",20,"Ariel","black")),2==step4&&(e="simplifying denominator and numerator in terms of x and h",p4.text_left(e,10,110,"Normal",20,"Ariel","blue"),t="h",r="(x+h)"+pfour+"-x"+pfour,p4.limit(l,i,r,t,130,140,"Normal",20,"Ariel","black")),3==step4&&(e="expanding the bracket",p4.text_left(e,200,150,"Normal",20,"Ariel","blue"),r="x"+pfour+"+4x"+pthree+"h+6x"+ptwo+"h"+ptwo+"+4xh"+pthree+"+h"+pfour+"-x"+pfour,t="h",p4.limit(l,i,r,t,200,190,"Normal",20,"Ariel","black")),4==step4&&(e="cancelling the x"+pfour,p4.text_left(e,320,200,"Normal",20,"Ariel","blue"),r="4x"+pthree+"h+6x"+ptwo+"h"+ptwo+"+4xh"+pthree+"+h"+pfour,t="h",p4.limit(l,i,r,t,180,240,"Normal",20,"Ariel","black")),5==step4&&(e="dividing numerator terms by h",p4.text_left(e,10,290,"Normal",20,"Ariel","blue"),e=l+"=lim 4x"+pthree+"+6x"+ptwo+"h+4xh"+ptwo+"+h"+pthree,p4.text_left(e,10,320,"Normal",20,"Ariel","black"),e=i,p4.text_left(e,57,335,"Normal",12,"Ariel","black")),6==step4&&(e="taking the limit by setting h=0",p4.text_left(e,10,365,"Normal",20,"Ariel","blue"),e=l+"=4x"+pthree,p4.text_left(e,10,395,"Normal",20,"Ariel","black"),e="Final Answer",p4.text_left(e,100,395,"Normal",20,"Ariel","red")),step4+=1}function reset1(){step4=1,p4.clear(),algebra1()}function algebra(){var e,r,t,l,i;l="f"+prime+"(x)",i="h"+limit+"0",1==step&&(e="note f"+prime+"(x) is the gradient of the secant line in the limit",p3.text_left(e,10,30,"Normal",20,"Ariel","blue"),r="f(x+h)-f(x)",t="x+h-x",p3.limit(l,i,r,t,140,60,"Normal",20,"Ariel","black")),2==step&&(e="simplifying denominator and numerator in terms of x and h",p3.text_left(e,10,110,"Normal",20,"Ariel","blue"),t="h",r="(x+h)"+pthree+"-x"+pthree,p3.limit(l,i,r,t,130,140,"Normal",20,"Ariel","black")),3==step&&(e="expanding the bracket",p3.text_left(e,200,150,"Normal",20,"Ariel","blue"),r="x"+pthree+"+3hx"+ptwo+"+3h"+ptwo+"x+h"+pthree+"-x"+pthree,t="h",p3.limit(l,i,r,t,180,190,"Normal",20,"Ariel","black")),4==step&&(e="cancelling the x"+pthree,p3.text_left(e,270,200,"Normal",20,"Ariel","blue"),r="3hx"+ptwo+"+3h"+ptwo+"x+h"+pthree,t="h",p3.limit(l,i,r,t,160,240,"Normal",20,"Ariel","black")),5==step&&(e="dividing numerator terms by h",p3.text_left(e,10,290,"Normal",20,"Ariel","blue"),e=l+"=lim 3x"+ptwo+"+3hx+h"+ptwo,p3.text_left(e,10,320,"Normal",20,"Ariel","black"),e=i,p3.text_left(e,57,335,"Normal",12,"Ariel","black")),6==step&&(e="taking the limit by setting h=0",p3.text_left(e,10,365,"Normal",20,"Ariel","blue"),e=l+"=3x"+ptwo,p3.text_left(e,10,395,"Normal",20,"Ariel","black"),e="Final Answer",p3.text_left(e,100,395,"Normal",20,"Ariel","red")),step+=1}function reset(){step=1,p3.clear(),algebra()}function secantr(){var e,r,t,l=[0,0];e=ar,r=br,screenr1.clear(),screenr1.rawprint("f(x)=1/x",50,50,"left","purple","Normal 30px Ariel"),l=calcmc(e,1/e,r,1/r),m=l[0],c=l[1],screenr1.generic(3,"red",linear,-5.5,5.5),screenr1.print("A",e+.2,.2+1/e,"Bold 30px Ariel","black"),screenr1.print("B",r+.2,.2+1/r,"Bold 30px Ariel","black"),screenr1.line(4,"black",e,1/e,r,1/e),screenr1.line(4,"black",r,1/e,r,1/r),t=e+(r-e)/2,screenr1.print("h",t,2.5,"Bold 30px Ariel","red"),1==switchr&&(br-=.1,br<=ar&&(br=ar+1e-4,switchr=0),requestAnimFrame(secantr))}function takelimitr(){switchr=1,secantr()}function reslimr(){br=5,switchr=0,secantr()}function secant2(){var e,r,t,l=[0,0];e=ap5,r=bp5,screeny1.clear(),screeny1.rawprint("f(x)=x"+pfive,50,50,"left","purple","Normal 30px Ariel"),l=calcmc(e,e**5,r,r**5),m=l[0],c=l[1],screeny1.generic(3,"red",linear,-5,5),screeny1.print("A",e-.2,e**5+5,"Bold 30px Ariel","black"),screeny1.print("B",r-.2,r**5+5,"Vold 30px Ariel","black"),screeny1.line(4,"black",e,e**5,r,e**5),screeny1.line(4,"black",r,e**5,r,r**5),t=e+(r-e)/2,screeny1.print("h",t,-40,"Bold 30px Ariel","red"),1==switch2&&(bp5-=.1,bp5<=ap5&&(bp5=ap5+1e-4,switch3=0),requestAnimFrame(secant2))}function takelimit2(){switch2=1,secant2()}function reslim2(){bp5=2,switch2=0,secant2()}function secant1(){var e,r,t,l=[0,0];e=ap4,r=bp4,screenx1.clear(),screenx1.rawprint("f(x)=x"+pfour,50,50,"left","purple","Normal 30px Ariel"),l=calcmc(e,e**4,r,r**4),m=l[0],c=l[1],screenx1.generic(3,"red",linear,-5,5),screenx1.print("A",e-.4,e**4+1,"Bold 30px Ariel","black"),screenx1.print("B",r-.4,r**4+1,"Vold 30px Ariel","black"),screenx1.line(4,"black",e,e**4,r,e**4),screenx1.line(4,"black",r,e**4,r,r**4),t=e+(r-e)/2,screenx1.print("h",t,10,"Bold 30px Ariel","red"),1==switch2&&(bp4-=.1,bp4<=ap4&&(bp4=ap4+1e-4,switch2=0),requestAnimFrame(secant1))}function takelimit1(){switch2=1,secant1()}function reslim1(){bp4=3,switch2=0,secant1()}function secant(){var e,r,t,l=[0,0];e=acubic,r=bcubic,screen1.clear(),screen1.rawprint("f(x)=x"+pthree,50,50,"left","purple","Normal 30px Ariel"),l=calcmc(acubic,acubic**3,bcubic,bcubic**3),m=l[0],c=l[1],screen1.generic(3,"red",linear,-5,5),screen1.print("A",e-.4,e*e*e+1,"Bold 30px Ariel","black"),screen1.print("B",r-.4,r*r*r+1,"Vold 30px Ariel","black"),screen1.line(4,"black",e,e*e*e,r,e*e*e),screen1.line(4,"black",r,e**3,r,r**3),t=e+(r-e)/2,screen1.print("h",t,-10,"Bold 30px Ariel","red"),1==switch1&&(bcubic-=.1,bcubic<=acubic&&(bcubic=acubic+1e-4,switch1=0),requestAnimFrame(secant))}function takelimit(){switch1=1,secant()}function reslim(){bcubic=2.5,switch1=0,secant()}function calcmc(e,r,t,l){var i=[0,0];return i[0]=(l-r)/(t-e),i[1]=r-i[0]*e,i}var ptwo="²",pthree="³",pfour="⁴",pfive="⁵",delta="Δ",prime="′";window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var m=1,c=1,linear=function(e){return m*e+c},screen=new Graphics("layer","layer1","dummy","dummy",500,500,500,500),screen1=new Graphics("dummy","dummy","dummy","dummy",500,500,500,500),acubic=-2,bcubic=2.5,switch1=0,cubic=function(e){return e*e*e},p3=new Ekvation("layerx"),step=1,screenx=new Graphics("layer4","layer14","dummy4","dummy4",500,500,500,500),screenx1=new Graphics("dummy4","dummy4","dummy4","dummy4",500,500,500,500),ap4=-2,bp4=3,switch2=0,pow4=function(e){return e*e*e*e},p4=new Ekvation("layerx4"),step4=1,screeny=new Graphics("layer5","layer15","dummy5","dummy5",500,500,500,500),screeny1=new Graphics("dummy5","dummy5","dummy5","dummy5",500,500,500,500),ap5=-2,bp5=2,switch3=0,pow5=function(e){return e*e*e*e*e},p5=new Ekvation("layerx5"),step5=1,screenr=new Graphics("layerr","layer1r","dummyr","dummyr",500,500,500,500),screenr1=new Graphics("dummyr","dummyr","dummyr","dummyr",500,500,500,500),ar=.5,br=5,switchr=0,recip=function(e){return 1/e},pr=new Ekvation("layerxr"),stepr=1;