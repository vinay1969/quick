function Ekvation(t){this.canvas=t,this.cos=print_cos,this.limit=print_limit,this.frac_center=fracc,this.frac_left=fracl,this.frac_right=fracr,this.text_left=textleft,this.text_right=textright,this.text_center=textcenter,this.sum_left=sumleft,this.sum_right=sumright,this.sum_center=sumcenter,this.int_left=intleft,this.print=tprint,this.clear=clear_qanvas}function tprint(t,e,n,i,l,r){var a=document.getElementById(this.canvas),s=a.getContext("2d");s.font=i,s.textAlign=l,s.textBaseline="middle",s.fillStyle=r,s.fillText(n,t,e)}function clear_qanvas(){var t=document.getElementById(this.canvas),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)}function intleft(t,e,n,i,l,r,a,s){var x,d,o,f,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return l+" "+r+"px "+a,p.font=l+" "+r+"px "+a,p.textAlign="left",p.fillStyle=s,p.textBaseline="middle",p.fillText(integral,n,i),o=parseInt(.4*r),p.font=l+" "+o+"px "+a,f=parseInt(.5*(r+o)+0*r),p.fillText(t,n,i-f),f=parseInt(.5*(r+o)+.07*r),p.fillText(e,n,i+f),u[0]=parseInt(i),x=p.measureText(integral),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumleft(t,e,n,i,l,r,a,s){var x,d,o,f,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return l+" "+r+"px "+a,p.font=l+" "+r+"px "+a,p.textAlign="left",p.fillStyle=s,p.textBaseline="middle",p.fillText(sum,n,i),o=parseInt(.4*r),p.font=l+" "+o+"px "+a,f=parseInt(.5*(r+o)+0*r),p.fillText(t,n,i-f),f=parseInt(.5*(r+o)+.07*r),p.fillText(e,n,i+f),u[0]=parseInt(i),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumcenter(t,e,n,i,l,r,a,s){var x,d,o,f,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return l+" "+r+"px "+a,p.font=l+" "+r+"px "+a,p.textAlign="center",p.fillStyle=s,p.textBaseline="middle",p.fillText(sum,n,i),o=parseInt(.4*r),p.font=l+" "+o+"px "+a,f=parseInt(.5*(r+o)+0*r),p.fillText(t,n,i-f),f=parseInt(.5*(r+o)+.07*r),p.fillText(e,n,i+f),u[0]=parseInt(i),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function sumright(t,e,n,i,l,r,a,s){var x,d,o,f,m=document.getElementById(this.canvas),p=m.getContext("2d"),u=[0,0,0];return l+" "+r+"px "+a,p.font=l+" "+r+"px "+a,p.textAlign="right",p.fillStyle=s,p.textBaseline="middle",p.fillText(sum,n,i),o=parseInt(.4*r),p.font=l+" "+o+"px "+a,f=parseInt(.5*(r+o)+0*r),p.fillText(t,n,i-f),f=parseInt(.5*(r+o)+.07*r),p.fillText(e,n,i+f),u[0]=parseInt(i),x=p.measureText(sum),d=x.width,u[1]=parseInt(n-d/2),u[2]=parseInt(n+d/2),u}function textcenter(t,e,n,i,l,r,a){var s,x,d=document.getElementById(this.canvas),o=d.getContext("2d"),f=[0,0,0];return i+" "+l+"px "+r,o.font=i+" "+l+"px "+r,o.textAlign="center",o.fillStyle=a,o.textBaseline="middle",o.fillText(t,e,n),f[0]=parseInt(n),s=o.measureText(t),x=s.width,f[1]=parseInt(e-x/2),f[2]=parseInt(e+x/2),f}function textright(t,e,n,i,l,r,a){var s,x,d=document.getElementById(this.canvas),o=d.getContext("2d"),f=[0,0,0];return i+" "+l+"px "+r,o.font=i+" "+l+"px "+r,o.textAlign="right",o.fillStyle=a,o.textBaseline="middle",o.fillText(t,e,n),f[0]=parseInt(n),s=o.measureText(t),x=s.width,f[1]=parseInt(e-x),f[2]=parseInt(e),f}function textleft(t,e,n,i,l,r,a){var s,x,d=document.getElementById(this.canvas),o=d.getContext("2d"),f=[0,0,0];return i+" "+l+"px "+r,o.font=i+" "+l+"px "+r,o.textAlign="left",o.fillStyle=a,o.textBaseline="middle",o.fillText(t,e,n),f[0]=parseInt(n),s=o.measureText(t),x=s.width,f[1]=parseInt(e),f[2]=parseInt(e+x),f}function fracr(t,e,n,i,l,r,a,s){var x,d,o,f,m,p,u,c,h,g,I,T=document.getElementById(this.canvas),v=T.getContext("2d"),y=[0,0,0];return l+" "+r+"px "+a,v.font=l+" "+r+"px "+a,v.textAlign="center",v.fillStyle=s,v.textBaseline="middle",x=v.measureText(t),d=v.measureText(e),o=x.width,f=d.width,m=1.05*largest(o,f),p=n-m/2,v.fillText(t,p,i),u=Math.round(r/10),u<2&&(u=2),c=i+r/2+2+u,h=c,g=n,I=n-m,v.beginPath(),v.moveTo(g,c),v.lineTo(I,h),v.lineWidth=u,v.strokeStyle=s,v.stroke(),yd=c+r/2+u+2,v.fillText(e,p,yd),y[0]=parseInt(c),y[1]=parseInt(I),y[2]=parseInt(g),y}function fracl(t,e,n,i,l,r,a,s){var x,d,o,f,m,p,u,c,h,g,I,T=document.getElementById(this.canvas),v=T.getContext("2d"),y=[0,0,0];return l+" "+r+"px "+a,v.font=l+" "+r+"px "+a,v.textAlign="center",v.fillStyle=s,v.textBaseline="middle",x=v.measureText(t),d=v.measureText(e),o=x.width,f=d.width,m=1.05*largest(o,f),p=n+m/2,v.fillText(t,p,i),u=Math.round(r/10),u<2&&(u=2),c=i+r/2+2+u,h=c,g=n,I=n+m,v.beginPath(),v.moveTo(g,c),v.lineTo(I,h),v.lineWidth=u,v.strokeStyle=s,v.stroke(),yd=c+r/2+u+2,v.fillText(e,p,yd),y[0]=parseInt(c),y[1]=parseInt(g),y[2]=parseInt(I),y}function fracc(t,e,n,i,l,r,a,s){var x,d,o,f,m,p,u,c,h,g,I=document.getElementById(this.canvas),T=I.getContext("2d"),v=[0,0,0];return l+" "+r+"px "+a,T.font=l+" "+r+"px "+a,T.textAlign="center",T.fillStyle=s,T.textBaseline="middle",T.fillText(t,n,i),x=T.measureText(t),d=T.measureText(e),o=x.width,f=d.width,m=Math.round(r/10),m<2&&(m=2),p=i+r/2+2+m,u=p,c=largest(o,f),h=n-1.05*c/2,g=n+1.05*c/2,T.beginPath(),T.moveTo(h,p),T.lineTo(g,u),T.lineWidth=m,T.strokeStyle=s,T.stroke(),yd=p+r/2+m+2,T.fillText(e,n,yd),v[0]=parseInt(p),v[1]=parseInt(h),v[2]=parseInt(g),v}function print_limit(t,e,n,i,l,r,a,s,x,d){var o,f,m,p,u,c,h,g,I,T,v,y,B,w,S,_=document.getElementById(this.canvas),A=_.getContext("2d");A.font=a+" "+s+"px "+x,A.textAlign="center",A.fillStyle=d,A.textBaseline="middle",A.fillText(n,l,r),o=A.measureText(n),f=A.measureText(i),m=o.width,p=f.width,u=Math.round(s/10),u<2&&(u=2),c=r+s/2+2+u,h=c,g=largest(m,p),I=l-1.05*g/2,T=l+1.05*g/2,A.beginPath(),A.moveTo(I,c),A.lineTo(T,h),A.lineWidth=u,A.strokeStyle=d,A.stroke(),v=c+s/2+u+2,A.fillText(i,l,v),y=t+"=lim",u=Math.round(s/5),B=I-u,A.textAlign="right",A.fillText(y,B,c),S=parseInt(Math.round(.66*s)),A.font=a+" "+S+"px "+x,u=Math.round(.7*s),w=c+u,A.fillText(e,B,w)}function print_cos(t,e,n,i,l,r,a,s,x){var d,o,f,m,p,u,c,h,g,I,T,v,y,B,w,S=document.getElementById(this.canvas),_=S.getContext("2d");_.font=r+" "+a+"px "+s,_.textAlign="center",_.fillStyle=x,d=_.measureText(e),o=_.measureText(n),f=d.width,m=o.width,_.fillText(e,i,l),temp=Math.round(a/10),temp<2&&(temp=2),u=l+temp+2,h=u,g=largest(f,m),p=i-1.05*g/2,c=i+1.05*g/2,_.beginPath(),_.moveTo(p,u),_.lineTo(c,h),_.lineWidth=temp,_.strokeStyle=x,_.stroke(),I=l+a+temp+2,_.fillText(n,i,I),y="cos"+t+"=",B=_.measureText(y),w=B.width,T=p-w-2,_.textAlign="left",v=u+.35*a,_.fillText(y,T,v)}function largest(t,e){var n;return n=e,t>e&&(n=t),n}var limit="→",sum="∑",integral="∫";